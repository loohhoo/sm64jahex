$(document).ready(function() {
var values = {
	"00":"0",
	"01":"1",
	"02":"2",
	"03":"3",
	"04":"4",
	"05":"5",
	"06":"6",
	"07":"7",
	"08":"8",
	"09":"9",
	"0A":"A",
	"0B":"B",
	"0C":"C",
	"0D":"D",
	"0E":"E",
	"0F":"F",
	"10":"G",
	"11":"H",
	"12":"I",
	"13":"J",
	"14":"K",
	"15":"L",
	"16":"M",
	"17":"N",
	"18":"O",
	"19":"P",
	"1A":"Q",
	"1B":"R",
	"1C":"S",
	"1D":"T",
	"1E":"U",
	"1F":"V",
	"20":"W",
	"21":"X",
	"22":"Y",
	"23":"Z",
	"40": "あ",
	"41": "い",
	"42": "う",
	"43": "え",
	"44": "お",
	"45": "か",
	"46": "き",
	"47": "く",
	"48": "け",
	"49": "こ",
	"4A": "さ",
	"4B": "し",
	"4C": "す",
	"4D": "せ",
	"4E": "そ",
	"4F": "た",
	"50": "ち",
	"51": "つ",
	"52": "て",
	"53": "と",
	"54": "な",
	"55": "に",
	"56": "ぬ",
	"57": "ね",
	"58": "の",
	"59": "は",
	"5A": "ひ",
	"5B": "ふ",
	"5C":　"へ",
	"5D":　"ほ",
	"5E": "ま",
	"5F": "み",
	"60": "む",
	"61": "め",
	"62": "も",
	"63": "や",
	"64": "ゆ",
	"65": "よ",
	"66": "ら",
	"67": "り",
	"68": "る",
	"69": "れ",
	"6A": "ろ",
	"6B": "わ",
	"6C": "を",
	"6D": "ん",
	"6E": "。",
	"6F": "、",
	"70": "ア",
	"71": "イ",
	"72": "ウ",
	"73": "エ",
	"74": "オ",
	"75": "カ",
	"76": "キ",
	"77": "ク",
	"78": "ケ",
	"79": "コ",
	"7A": "サ",
	"7B": "シ",
	"7C": "ス",
	"7D": "セ",
	"7E": "ソ",
	"7F": "タ",
	"80": "チ",
	"81": "ツ",
	"82": "テ",
	"83": "ト",
	"84": "ナ",
	"85": "ニ",
	"86": "ヌ",
	"87": "ネ",
	"88": "ノ",
	"89": "ハ",
	"8A": "ヒ",
	"8B": "フ",
	"8C": "ヘ",
	"8D": "ホ",
	"8E": "マ",
	"8F": "ミ",
	"90": "ム",
	"91": "メ",
	"92": "モ",
	"93": "ヤ",
	"94": "ユ",
	"95": "ヨ",
	"96": "ラ",
	"97": "リ",
	"98": "ル",
	"99": "レ",
	"9A": "ロ",
	"9B": "ワ",
	"9C": "#",
	"9D": "ン",
	"9E": "　",
	"9F": "ー",
	"A0": "ぇ",
	"A1": "っ",
	"A2": "ゃ",
	"A3": "ゅ",
	"A4": "ょ",
	"A5": "ぁ",
	"A6":　"ぃ",
	"A7":　"ぅ",
	"A8":　"ぉ",
	"D0": "ェ",
	"D1": "ッ",
	"D2": "ャ",
	"D3": "ュ",
	"D4": "ョ",
	"D5": "ァ",
	"D6": "ィ",
	"D7": "ゥ",
	"D8": "ォ",
	"E0": "  0",
	"E1": "(",
	"E2": ")(",
	"E3": ") ",
	"E4": "⟷",
	"F0": "゛",
	"F1": "゜",
	"F2": "！",
	"F3": "％",
	"F4": "？",
	"F5": "『",
	"F6": "』",
	"F7": "～",
	"F8": "…",
	"F9": "$",
	"FA": "★",
	"FB": "ｘ",
	"FC": "・",
	"FD": "☆",
	"FE": "n",
	"FF": "e"
};

var dakuten = {
	"45":"が",
	"46":"ぎ",
	"47":"ぐ",
	"48":"げ",
	"49":"ご",
	"4A":"ざ",
	"4B":"じ",
	"4C":"ず",
	"4D":"ぜ",
	"4E":"ぞ",
	"4F":"だ",
	"50":"ぢ",
	"51":"づ",
	"52":"で",
	"53":"ど",
	"59":"ば",
	"5A":"び",
	"5B":"ぶ",
	"5C":"べ",
	"5D":"ぼ",


	"75":"ガ",
	"76":"ギ",
	"77":"グ",
	"78":"ゲ",
	"79":"ゴ",
	"7A":"ザ",
	"7B":"ジ",
	"7C":"ズ",
	"7D":"ゼ",
	"7E":"ゾ",
	"7F":"ダ",
	"80":"ヂ",
	"81":"ヅ",
	"82":"デ",
	"83":"ド",
	"89":"バ",
	"8A":"ビ",
	"8B":"ブ",
	"8C":"ベ",
	"8D":"ボ"
};

var handakuten = {
	"59":"ぱ",
	"5A":"ぴ",
	"5B":"ぷ",
	"5C":"ぺ",
	"5D":"ぽ",
	"89":"パ",
	"8A":"ピ",
	"8B":"プ",
	"8C":"ペ",
	"8D":"ポ"
};

var readable = {
	"0": "00",
	"1": "01",
	"2": "02",
	"3": "03",
	"4":　"04",
	"5":　"05",
	"6":　"06",
	"7":　"07",
	"8":　"08",
	"9":　"09",
	"A":　"0A",
	"B":　"0B",
	"C":　"0C",
	"D":　"0D",
	"E":　"0E",
	"F":　"0F",
	"G":　"10",
	"H":　"11",
	"I":　"12",
	"J":　"13",
	"K":　"14",
	"L":　"15",
	"M":　"16",
	"N":　"17",
	"O":　"18",
	"P":　"19",
	"Q":　"1A",
	"R":　"1B",
	"S":　"1C",
	"T":　"1D",
	"U":　"1E",
	"V":　"1F",
	"W":　"20",
	"X":　"21",
	"Y":　"22",
	"Z":　"23",
	"あ": "40",
	"い": "41",
	"う": "42",
	"え": "43",
	"お": "44",
	"か": "45",
	"き": "46",
	"く": "47",
	"け": "48",
	"こ": "49",
	"が": "F045",
	"ぎ": "F046",
	"ぐ": "F047",
	"げ": "F048",
	"ご": "F049",
	"さ": "4A",
	"し": "4B",
	"す": "4C",
	"せ": "4D",
	"そ": "4E",
	"ざ": "F04A",
	"じ": "F04B",
	"ず": "F04C",
	"ぜ": "F04D",
	"ぞ": "F04E",
	"た": "4F",
	"ち": "50",
	"つ": "51",
	"て": "52",
	"と": "53",
	"だ": "F04F",
	"ぢ": "F050",
	"づ": "F051",
	"で": "F052",
	"ど": "F053",
	"な": "54",
	"に": "55",
	"ぬ": "56",
	"ね": "57",
	"の": "58",
	"は": "59",
	"ひ": "5A",
	"ふ": "5B",
	"へ": "5C",
	"ほ": "5D",
	"ば": "F059",
	"び": "F05A",
	"ぶ": "F05B",
	"べ": "F05C",
	"ぼ": "F05D",
	"ぱ": "F159",
	"ぴ": "F15A",
	"ぷ": "F15B",
	"ぺ": "F15C",
	"ぽ": "F15D",
	"ま": "5E",
	"み": "5F",
	"む": "60",
	"め": "61",
	"も": "62",
	"や": "63",
	"ゆ": "64",
	"よ": "65",
	"ら": "66",
	"り": "67",
	"る": "68",
	"れ": "69",
	"ろ": "6A",
	"わ": "6B",
	"を": "6C",
	"ん": "6D",
	"。": "6E",
	"、": "6F",

	"ア": "70", //KATAKANA
	"イ": "71",
	"ウ": "72",
	"エ": "73",
	"オ": "74",
	"カ": "75",
	"キ": "76",
	"ク": "77",
	"ケ": "78",
	"コ": "79",
	"ガ": "F075",
	"ギ": "F076",
	"グ": "F077",
	"ゲ": "F078",
	"ゴ": "F079",
	"サ": "7A",
	"シ": "7B",
	"ス": "7C",
	"セ": "7D",
	"ソ": "7E",
	"ザ": "F07A",
	"ジ": "F07B",
	"ズ": "F07C",
	"ゼ": "F07D",
	"ゾ": "F07E",
	"タ": "7F",
	"チ": "80",
	"ツ": "81",
	"テ": "82",
	"ト": "83",
	"ダ": "F07F",
	"ヂ": "F080",
	"ヅ": "F081",
	"デ": "F082",
	"ド": "F083",
	"ナ": "84",
	"ニ": "85",
	"ヌ": "86",
	"ネ": "87",
	"ノ": "88",
	"ハ": "89",
	"ヒ": "8A",
	"フ": "8B",
	"ヘ": "8C",
	"ホ": "8D",
	"バ": "F089",
	"ビ": "F08A",
	"ブ": "F08B",
	"ベ": "F08C",
	"ボ": "F08D",
	"パ": "F189",
	"ピ": "F18A",
	"プ": "F18B",
	"ペ": "F18C",
	"ポ": "F18D",
	"マ": "8E",
	"ミ": "8F",
	"ム": "90",
	"メ": "91",
	"モ": "92",
	"ヤ": "93",
	"ユ": "94",
	"ヨ": "95",
	"ラ": "96",
	"リ": "97",
	"ル": "98",
	"レ": "99",
	"ロ": "9A",
	"ワ": "9B",
	"ヲ": "",
	"ン": "9D",
	" ": "9E",
	"　": "9E",
	"ー": "9F",

	"ぇ": "A0", //SMALL LETTERS
	"っ": "A1",
	"ゃ": "A2",
	"ゅ": "A3",
	"ょ": "A4",
	"ぁ": "A5",
	"ぃ": "A6",
	"ぅ": "A7",
	"ぉ": "A8",
	"ェ": "A0", 
	"ッ": "A1",
	"ャ": "A2",
	"ュ": "A3",
	"ョ": "A4",
	"ァ": "A5",
	"ィ": "A6",
	"ゥ": "A7",
	"ォ": "A8",

	"（": "E1", //SPECIAL CHARACTERS
	"(": "E1",
	"）": "E3",
	")": "E3",
	"⟷": "E4",
	"！": "F1", 
	"!": "F1",
	"？": "F2",
	"?": "F2",
	"％": "F3",
	"%": "F3",
	"？": "F4",
	"?": "F4",
	"『": "F5",
	"』": "F6",
	"～": "F7",
	"~": "F7",
	"…":"F8",
	"$": "F9",
	"★": "FA",
	"ｘ":"FB",
	"x": "FB",
	"･":"FC",
	"☆":"FD",
	"n":"FE",
	"e":"FF"
}

var hex = "";
var ja = "";

//converts hex values to readable text
$("#convert-hex").click(function() {
	hex = $("#hex").val();
	$("#ja-out").val("");
	for(var i = 0; i < hex.length; i+=2)
	{
		//allow spaces
		if(hex.slice(i, i+1) == " " || hex.slice(i, i+1) == "　") {
			i+=1;
		}

		//handle dakuten stuff
		if(hex.slice(i, i+2) == "F0") {
			$("#ja-out").val(function(j, text) {
				return text + dakuten[hex.slice(i+2, i+4)];
			});
			i+=2;
		}

		//handle handakuten stuff
		else if(hex.slice(i, i+2) == "F1") {
			$("#ja-out").val(function(j, text) {
				return text + handakuten[hex.slice(i+2, i+4)];
			});
			i+=2;
		}
		
		else {
			$("#ja-out").val(function(j, text) {
				return text + values[hex.slice(i, i+2)];
			});
		}
	}
});

//converts readable text to hex values
$("#convert-ja").click(function() {
	ja = $("#ja").val();
	console.log(ja.length);
	$("#hex-out").val("");
	for(var i = 0; i < ja.length; i++) {

		if(ja.slice(i, i+3) == "  0") {
			$("#hex-out").val(function(j, text) {
				return text + "E0";
			});
			i+=1;
		}

		else if(ja.slice(i, i+2) == ")(") {
			$("#hex-out").val(function(j, text) {
				return text + "E2";
			});
			i+=1;
		}

		else {
			$("#hex-out").val(function(j, text) {
				return text + readable[ja.slice(i, i+1)];
			});
		}
	}
});

$("#arrows, #coin, #star-1, #x, #star-2, #line-break, #end").click(function() {
	var This = $(this)
	$("#ja").val(function(j, text) {
		return text + This.text().slice(0, 1);
	});

	$("#hex").val(function(j, text) {
		return text + This.text().slice(This.text().length-2, This.text().length);
	});
});

$("#daku, #handaku").click(function() {
	var This = $(this)

	$("#hex").val(function(j, text) {
		return text + This.text().slice(This.text().length-2, This.text().length);
	});
});

$("#clear").click(function() {
	$("#ja-out, #hex-out, #ja, #hex").val("");
});

});